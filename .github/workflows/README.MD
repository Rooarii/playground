# Continuous Integration

I'm using github actions workflows for continuous integration.

## Create new pipeline

Create a `<PIPELINE_NAME>.yaml` in `.github/workflows`
It will automatically be launched depending on what github action event types,
defined in `<PIPELINE_NAME>.yaml`

## Validate pipeline locally

In order to avoid loss of time to validate pipeline:
- commit
- push
- test pipeline directlyin github

you can validate your pipeline using [act](https://github.com/nektos/act)

### installation

```shell
curl https://raw.githubusercontent.com/nektos/act/master/install.sh | sudo bash
```

### Test pipeline
```shell
act -n
```
**Output**
```shell
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] üöÄ  Start image=ghcr.io/catthehacker/ubuntu:full-20.04
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] üöÄ  Start image=ghcr.io/catthehacker/ubuntu:full-20.04
*DRYRUN* [Continuous integration (CI)/build-django-application ] üöÄ  Start image=ghcr.io/catthehacker/ubuntu:full-20.04
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   üê≥  docker pull image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= username= forcePull=false
*DRYRUN* [Continuous integration (CI)/build-django-application ]   üê≥  docker pull image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= username= forcePull=false
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   üê≥  docker pull image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= username= forcePull=false
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   üê≥  docker create image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   üê≥  docker run image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/build-django-application ]   üê≥  docker create image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/build-django-application ]   üê≥  docker run image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   üê≥  docker create image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   üê≥  docker run image=ghcr.io/catthehacker/ubuntu:full-20.04 platform= entrypoint=["/usr/bin/tail" "-f" "/dev/null"] cmd=[]
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚òÅ  git clone 'https://github.com/actions/setup-python' # ref=v3
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚òÅ  git clone 'https://github.com/actions/setup-python' # ref=v3
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] ‚≠ê Run Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   ‚úÖ  Success - Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] ‚≠ê Run Main Initialize terraform
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   ‚úÖ  Success - Main Initialize terraform
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] ‚≠ê Run Main Format all terraform files
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   ‚úÖ  Success - Main Format all terraform files
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] ‚≠ê Run Main Validate terraform configuration
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ]   ‚úÖ  Success - Main Validate terraform configuration
*DRYRUN* [Continuous integration (CI)/check-infrastructure     ] üèÅ  Job succeeded
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Create python virtual environment
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Create python virtual environment
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Source python virtual environment
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Source python virtual environment
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Install required dependencies
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Install required dependencies
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Upgrade pip version
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Upgrade pip version
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Migrate Database
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Migrate Database
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Check django_app
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Check django_app
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Main Test django_app
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Main Test django_app
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] ‚≠ê Run Post actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp]   ‚úÖ  Success - Post actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-front-django-webapp] üèÅ  Job succeeded
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main actions/checkout@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Create python virtual environment
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Create python virtual environment
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Source python virtual environment
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Source python virtual environment
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Install required dependencies
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Install required dependencies
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Upgrade pip version
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Upgrade pip version
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Migrate Database
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Migrate Database
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Check django_app
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Check django_app
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Main Test django_app
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Main Test django_app
*DRYRUN* [Continuous integration (CI)/build-django-application ] ‚≠ê Run Post actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ]   ‚úÖ  Success - Post actions/setup-python@v3
*DRYRUN* [Continuous integration (CI)/build-django-application ] üèÅ  Job succeeded
```
### Act docs https://github.com/nektos/act